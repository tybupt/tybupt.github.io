<!DOCTYPE html>
<html>
<head>
	<meta charset=utf-8 />
	<title>lunxun</title>
	<style type="text/css">
	body,html{
		width: 100%;
		height: 100%;
		padding: 0px;
		margin:0px;
	}
	body{
		margin: 0px;
		font-family: "微软雅黑";
		overflow: hidden;
	}
	div.show{
		width:267px;
		height: 396px;
		padding: 0px;
		position: relative;
		overflow:hidden;
	}
	div.show ul.img-list{
		width: 1869px;
		list-style-type: none;
		position: absolute;
		left: 0px;
		top: 0px;
		padding: 0px;
		margin:0px;
	}
	div.show ul.img-list li{
		float: left;
		display: inline;
	}
	div.show ul.list{
		position: absolute;
		right: 30px;
		bottom: 10px;
		padding: 0px;
	}
	div.show ul.list li{
		list-style-type: none;
		width: 9px;
		height: 9px;
		border-radius: 8px;
		float:left; 
		margin-left: 8px;
		background-color: #FFF;
		opacity: 0.5;
		filter:alpha(opacity=50);
	}
	div.show ul.list li.on{
		opacity: 1;
		filter:alpha(opacity=100)
	}
	div.show b{
		display: inline-block;
		width: 40px;
		height: 72px;
		border:none;
		position: absolute;
		margin-top:-36px;
		top: 50%;
		z-index: 100;
		transition: opacity 1s;
		transition: margin-top 0.5s;
		opacity: 0.2;
		filter:alpha(opacity=20);
	}
	div.show b.on{
		opacity: 0.8;
		filter:alpha(opacity=80);
		cursor: pointer;
	}
	div.show b.pre{
		background: url(images/arrow.png) no-repeat 0 -87px;
		left: 2%;
	}
	div.show b.next{
		background: url(images/arrow.png) no-repeat 0 0px;;
		right: 2%;		 
	}
	div.show b.display{
		opacity: 0.8;
		filter:alpha(opacity=80);
	}
	.header{
		background: rgba(0, 0, 0, 0.80);;
		position: fixed;
		left: 0px;
		top: 0px;
		width: 100%;
		z-index: 100;
	}
	.header ul.nav{
		padding-left: 50px;
		margin: 0px;
	}
	.header ul.nav li{
		text-align: center;
		list-style-type: none;
		display: inline-block;
		width: 60px;
		padding: 9px 5px;
	}
	.header ul.nav li a{
		text-decoration: none;
		color: #fff;
	}
	.header ul.nav li.on{
		background-color: #fff;
	}
	.header ul.nav li.on a{
		color: #000;	
	}
	.des div.text div.title{
		font-family: "宋体";
		font-size: 250%;
		-webkit-box-reflect:below -10px -webkit-linear-gradient(transparent,transparent 40%,rgba(255,255,255,.3));
	}

	div.self-introduction{
		width: 800px;
		height: 200px;
		position: absolute;
		background: rgba(255,255,255,0.8);
		left: 50%;
		bottom: 0px;
		margin-left: -400px;
		border-top-left-radius: 8px;
		border-top-right-radius: 8px;
		text-align: center;
		padding-top: 10px;
	}
	div.self-introduction img{
		width: 80px;
		height: 80px;
		border: 2px outset #fff;
		border-radius: 60px;
	}
	div.self-introduction h3,.self-introduction h4{
		font-weight: normal;
		color: #333;
	}
	div.pinjie{
		width: 800px;
		height: 70px;
		position: relative;
		background: rgba(255,255,255,1);
		left: 50%;
		top: 0px;
		margin-left: -400px;
		border-bottom-left-radius: 8px;
		border-bottom-right-radius: 8px;
		text-align: center;
	}
	div.pinjie p{
		padding-top: 20px;
		margin:0px;
		color: #333;
	}

	.main{
		width: 100%;
		height: 100%;
	}
	.section1{
		width: 100%;
		height: 100%;
		background: #111 url(images/qixing.jpg);
	}
	.section2{
		width: 100%;
		height: 100%;
		background: #fff url(images/tech.jpg) no-repeat 0px 0px;
	}
	.section3{
		width: 100%;
		height: 100%;
		background: #ccc url(images/movie1.jpg);
	}
	.section4{
		width: 100%;
		height: 100%;
		background: #333 url(images/food.png);
	}
	.section5{
		width: 100%;
		height: 100%;
		background: #ccc url(images/bg.png);
	}
	.section6{
		width: 100%;
		height: 100%;
		background: #ccc url(images/bg1.png);
	}
	/*.sidebar{
		position: fixed;
		width: 150px;
		height: 175px;
		left: 0px;
		top: 40%;
		margin-top: -88px;
		display: none;
		margin-left: 50px;
	}
	.sidebar ul{
		list-style-type: none;
		margin: 0px;
		padding-left: 10px;
	}
	.sidebar ul li{
		line-height: 40px;
		font-size: 16px;
		color: #fff;
	}
	.sidebar ul li b{
		display: inline-block;
		border: 2px solid #fff;
		border-radius: 8px;
		width: 10px;
		height: 10px;
		margin-right: 7px;
	}
	.sidebar ul li span{
		visibility: hidden;
	}
	.sidebar ul li.on span{
		visibility: visible;
	}
	.sidebar ul li.on b{
		background-color: #fff;
	}*/
	.home-page{
		width: 100%;
		height: 100%;
		overflow: hidden;
		background: url(images/bg.png);
	}
	div.contact{
		width: 1000px;
		margin: 0px auto;
		margin-top: 60px;
	}
	div.contact a img{
		width: 70px;
		height: 70px;
		padding: 25px;
		-webkit-box-reflect:below -40px -webkit-linear-gradient(transparent,transparent 40%,rgba(255,255,255,.3));
		transition:all 0.5;
	}
	div.contact a img.unon{
		-webkit-filter:opacity(0.7);		
	}
	.section1{
		position: relative;
	}
	.section1 div.content{
		width: 800px;
		height: 600px;
		position: absolute;
		left: 50%;
		top: 50%;
		margin-left: -400px;
		margin-top: -300px;
		opacity: 0;
	}
	.section1 img{
		float: right;
	}
	.section1 div.text{
		padding: 100px 400px 100px 100px;
	}
	</style>
</head>
<body>
<div class="home-page">
	<div class="header">
		<ul class="nav">
			<li class="on"><a href="">联系</a></li>
			<li><a href="">单车</a></li>
			<li><a href="">设计</a></li>
			<li><a href="">阅读</a></li>
			<li><a href="">美食</a></li>
			<li><a href="">随笔</a></li>
			<li><a href="">关于</a></li>
		</ul>
	</div>
	<div class="show">
		<b class="pre"></b>
		<b class="next"></b>
		<ul class="img-list">
			<li><img src="images/a9.jpg"></li>
			<li><img src="images/a10.jpg"></li>
			<li><img src="images/a11.jpg"></li>
			<li><img src="images/a12.jpg"></li>
			<li><img src="images/a13.jpg"></li>
			<li><img src="images/a14.jpg"></li>
			<li><img src="images/a15.jpg"></li>
		</ul>
			<ul class="list">
				<li class="on" tagid="0"></li>
				<li tagid="1"></li>
				<li tagid="2"></li>
				<li tagid="3"></li>
				<li tagid="4"></li>
				<li tagid="5"></li>
				<li tagid="6"></li>
			</ul>
		<div class="self-introduction">
			<img src="images/me.jpg">
			<h3>我爱好旅行、摄影和创造。</h3>
			<h4>学自己之所想所爱。自由的身心定能使我成为一个一直朝前行走的行者。</h4>
		</div>
	</div>
	<div class="pinjie">
		<p>这是我的个人网站，请多指教</p>
	</div>	
	<div class="contact">
		<a href=""><img src="images/renren.png" title="人人网"></a>
		<a href=""><img src="images/facebook.png" title="facebook"></a>
		<a href=""><img src="images/laiwang.png" title="来往"></a>
		<a href=""><img src="images/weibo.png" title="新浪微博"></a>
		<a href=""><img src="images/qzone.png" title="qq空间"></a>
		<a href=""><img src="images/mail.png" title="邮件"></a>
		<a href=""><img src="images/qq.png" title="qq"></a>
		<a href=""><img src="images/weixin.png" title="微信"></a>
	</div>
</div>
<div class="main">
	<div class="section1">
		<div class="content">
<!-- 			<img src="images/section2-img1.png">
 -->			<div class="text">
				<!-- <h2 style="font-size:28px; color:#fff; padding:0px; margin:0px;">哈喽</h2>
				<p style="font-size:8px; color:#fff; padding:0px; margin:0px;">我爱北京天安门</p> -->
			</div>			
		</div>
	</div>
	<div class="section2">
		
	</div>
	<div class="section3">
		
	</div>
	<div class="section4">
		
	</div>
	<div class="section5">
		
	</div>
	<div class="section6">
		
	</div>
</div>
<script type="text/javascript" src="javascripts/jquery-1.3.1.js"></script>
<script type="text/javascript">
	$(function(){
		$("ul.img-list li").children("img").width($(window).width());
		if($(window).height()>1100){
			$("ul.img-list li").children("img").height(0.5*$(window).height());
		}else{
			$("ul.img-list li").children("img").height("550px");
		}		
		var numImg = $("ul.img-list").children("li").length;
		var widthImg = $("ul.img-list li").children("img").width();
		var heightImg = $("ul.img-list li").children("img").height();
		$("ul.img-list li").css({"width":widthImg,"height":heightImg});
		$("ul.img-list").css({"width":numImg*widthImg,"height":heightImg});
		$("div.show").css({"width":widthImg,"height":heightImg});

		var oLi = $("ul.list li");				//所有标号圆圈集合
		var oImg = $("ul.img-list li img");		//所有图片的集合
		var i = 0;				//循环用
		var v_width = $("img").width();		//一张图片的宽度
		var flag = 0;  //flag表示i递增还是递减
		
		//sync保证图片和目录保持一致
		function sync(){
				$(oLi[i]).addClass("on").siblings("li").removeClass("on");
				$("ul.img-list").animate({left : -i*v_width},1000);
		}				
		
		//myFun是循环播放函数
		function myFun(){			
			if(i<oLi.length-1 && flag==0){
				i++;		//必须保证i++必须小于oli.length
			}
			else{	
				flag=1;			
				i--;
				if(i<0){		//说明逆序走完，当前停留元素为i=0
					flag=0;	//开始正序
					i=1;  //从i=0走到i=1
				}	
			}
			sync();		//图片和当前标号i同步
		}
		//每2s变换一张图片
		var intervalId = setInterval(myFun,4500);		
		
		//点击标号图标，展示对应的图片（事件委托到外层ul，冒泡至li）
		$("div.show ul.list").click(function(e){
			//取得当前点击的标号，及获取i
			var index = $(e.target).attr("tagid");	
			i=index;	
			//展示i对应的图片	
			sync();				
		});

		//鼠标移至图片上部时，图片停止轮播，移除后，继续轮播
		oImg.hover(function(e){
			clearInterval(intervalId);
			$("div.show b").addClass("display");
		},function(){
			intervalId = setInterval(myFun,4500);
			$("div.show b").removeClass("display");
		});

		//向前向后图标，移入移出动画
		$("b").hover(function(){
			$(this).addClass("on").siblings("b").addClass("display").removeClass("on");
		},function(){
			$(this).removeClass("on").removeClass("display").siblings("b").removeClass("display");
		});

		//点击向前图标，跳到前一张图片，如果前面没有图片，则跳到最后一张图片
		$("b.pre").click(function(){
			clearInterval(intervalId);
			if(i>0){
				i=i-1;
			}
			else{
				i=oLi.length-1;
			}
			sync();
		});

		//点击向后图标，跳到后一张图片，如果后面没有图片，则跳到第一张图片
		$("b.next").click(function(){
			clearInterval(intervalId);
			if(i<oLi.length-1){
				i=i+1;
			}
			else{
				i=0;
			}
			sync();
		});


		//百度滴答效果
		var windowHeight = $(window).height();
		var n = 0;
		var timeoutId1 = null;
		var oLi1 = $(".header ul.nav").children("li");
		$(window).scrollTop(0);
		var fun = function(e){
			    e=e || window.event; 
				clearTimeout(timeoutId1); 
				timeoutId1 = setTimeout(function(){
					e=e || window.event; 
				    if(e.wheelDelta){//IE/Opera/Chrome 
				    	if(e.wheelDelta<0){
				    		n++;
				    		if(n*windowHeight >= $(document).height()){
							 	n=n-1;
							 }
				    	}else{
				    		n--;
				    		if(n<0){
				    			n++;
				    		}
				    	}
				    }else if(e.detail){//Firefox 
				        if(e.detail>0){
				    		n++;
				    		if(n*windowHeight >= $(document).height()){
							 	n=n-1;
							 }
				    	}else{
				    		n--;
				    		if(n<0){
				    			n=0;
				    		}
				    	}    	
				    } 
				    $('body').animate({scrollTop: n*windowHeight}, 800,function(){
						if(n==1){
							$(".section1").children("div.content").attr({"left":"500","opacity":"0"},100).animate({"left":"700","opacity":"1"},1000);
						}
				    });
		    		$(oLi1[n]).addClass("on").siblings("li").removeClass("on");
				},300);
			};
		/*注册事件*/ 
		if(document.addEventListener){ 
		    document.addEventListener('DOMMouseScroll',fun,false); 
		}//W3C 
		window.onmousewheel=document.onmousewheel=fun;//IE/Opera/Chrome 

		$(".sidebar ul").children("li").prepend("<b></b>");
			oLi1.bind("click",function(e){
				var index = $(this).index();
				n=index;
				$(window).scrollTop(n*windowHeight);
				$(this).addClass("on").siblings("li").removeClass("on");
			});



		$(".contact a").hover(function(){
			//alert("11");
			$(this).children("img").addClass("on");
			$(this).siblings().children("img").addClass("unon");
		},function(){
			$(this).children("img").removeClass("on");
			$(this).siblings().children("img").removeClass("unon");
		});



	});
</script>
</body>
</html>

